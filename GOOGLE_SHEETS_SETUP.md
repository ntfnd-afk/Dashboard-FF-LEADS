# Инструкция по настройке Google Sheets API

## Шаг 1: Создание проекта в Google Cloud Console

1. Перейдите в [Google Cloud Console](https://console.developers.google.com/)
2. Создайте новый проект или выберите существующий
3. Назовите проект (например, "FF Calculator API")

## Шаг 2: Включение Google Sheets API

1. В левом меню выберите "APIs & Services" → "Library"
2. Найдите "Google Sheets API"
3. Нажмите "Enable" для включения API

## Шаг 3: Создание API ключа

1. Перейдите в "APIs & Services" → "Credentials"
2. Нажмите "Create Credentials" → "API Key"
3. Скопируйте созданный API ключ
4. Нажмите "Restrict Key" для безопасности
5. Выберите "Restrict to Google Sheets API"
6. Сохраните изменения

## Шаг 4: Настройка доступа к таблице

1. Откройте вашу Google Sheets таблицу
2. Скопируйте ID таблицы из URL:
   ```
   https://docs.google.com/spreadsheets/d/ВАШ_ID_ТАБЛИЦЫ/edit
   ```
3. Убедитесь, что таблица имеет публичный доступ или доступ для всех с ссылкой

## Шаг 5: Настройка в приложении

1. Откройте FF калькулятор сметы
2. Нажмите кнопку "Синхронизация" в шапке
3. Заполните поля:
   - **API ключ**: вставьте ключ из шага 3
   - **ID таблицы**: вставьте ID из шага 4
   - **Название листа**: "Себестоимость" (или другое название)
4. Нажмите "Тестировать подключение"
5. Если тест прошел успешно, нажмите "Сохранить"

## Формат таблицы

Таблица должна содержать следующие колонки:
- **A**: Услуга (название услуги)
- **B**: Стоимость (цена за единицу)
- **C**: Единица (шт, короб, палет и т.д.)

Пример:
```
| Услуга                    | Стоимость | Единица |
|---------------------------|-----------|---------|
| Приемка товара            | 150       | шт      |
| Хранение (1 палет/месяц)  | 200       | палет   |
| Комплектация заказа       | 80        | шт      |
```

## Автоматическая синхронизация

После настройки приложение будет:
- Автоматически загружать прайс при открытии
- Обновлять список услуг при нажатии "Синхронизация"
- Сохранять настройки локально

## Устранение неполадок

### Ошибка "API key not valid"
- Проверьте правильность API ключа
- Убедитесь, что API ключ ограничен только Google Sheets API

### Ошибка "Permission denied"
- Убедитесь, что таблица имеет публичный доступ
- Проверьте правильность ID таблицы

### Ошибка "Sheet not found"
- Проверьте название листа в таблице
- Убедитесь, что лист существует и содержит данные

### Ошибка "No data found"
- Проверьте, что в таблице есть данные
- Убедитесь, что первая строка содержит заголовки
- Проверьте, что данные начинаются со второй строки
