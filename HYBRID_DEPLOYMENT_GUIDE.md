# üéØ –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ: GitHub Pages + PostgreSQL VM

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   GitHub Pages  ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   PostgreSQL   ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ   (Yandex VM)  ‚îÇ
‚îÇ ‚Ä¢ Frontend      ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ PWA           ‚îÇ    ‚îÇ ‚Ä¢ ff_dashboard ‚îÇ
‚îÇ ‚Ä¢ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ   ‚îÇ    ‚îÇ   database     ‚îÇ
‚îÇ   —Ñ–∞–π–ª—ã         ‚îÇ    ‚îÇ ‚Ä¢ –¢–∞–±–ª–∏—Ü—ã:     ‚îÇ
‚îÇ ‚Ä¢ HTTPS         ‚îÇ    ‚îÇ   - leads      ‚îÇ
‚îÇ ‚Ä¢ CDN           ‚îÇ    ‚îÇ   - prices     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ   - reminders ‚îÇ
                       ‚îÇ   - settings  ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

### **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
- ‚úÖ **GitHub Pages** - push –∏ –≥–æ—Ç–æ–≤–æ
- ‚úÖ **PostgreSQL** - —Ç–æ–ª—å–∫–æ –ë–î –Ω–∞ VM
- ‚úÖ **–ú–∏–Ω–∏–º—É–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - –Ω–µ –Ω—É–∂–µ–Ω API —Å–µ—Ä–≤–µ—Ä

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ë–î** - ACID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –ª–∏–º–∏—Ç–æ–≤ API
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è** - –æ–¥–Ω–∞ –ë–î –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### **–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ:**
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** - GitHub Pages
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã** - —Ç–æ–ª—å–∫–æ –ë–î –Ω–∞ VM
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è** - —Ç–æ–ª—å–∫–æ –ë–î

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ PostgreSQL –±–∞–∑—ã

### **–¢–∞–±–ª–∏—Ü–∞ `leads`**
```sql
CREATE TABLE leads (
    id SERIAL PRIMARY KEY,
    client_name VARCHAR(255) NOT NULL,
    phone VARCHAR(50),
    email VARCHAR(255),
    status VARCHAR(50) DEFAULT 'new',
    source VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    comments TEXT
);
```

### **–¢–∞–±–ª–∏—Ü–∞ `prices`**
```sql
CREATE TABLE prices (
    id SERIAL PRIMARY KEY,
    service VARCHAR(255) NOT NULL,
    unit VARCHAR(50) NOT NULL,
    cost DECIMAL(10,2) NOT NULL,
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### **–¢–∞–±–ª–∏—Ü–∞ `reminders`**
```sql
CREATE TABLE reminders (
    id SERIAL PRIMARY KEY,
    lead_id INTEGER REFERENCES leads(id),
    date_time TIMESTAMP NOT NULL,
    text TEXT NOT NULL,
    completed BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    telegram_bot_token VARCHAR(255),
    telegram_chat_id VARCHAR(100)
);
```

### **–¢–∞–±–ª–∏—Ü–∞ `settings`**
```sql
CREATE TABLE settings (
    id SERIAL PRIMARY KEY,
    key VARCHAR(100) UNIQUE NOT NULL,
    value TEXT,
    description TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL –Ω–∞ VM

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ PostgreSQL
sudo -u postgres psql

-- –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE ff_dashboard;

-- –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER ff_user WITH PASSWORD 'secure_password';

-- –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞
GRANT ALL PRIVILEGES ON DATABASE ff_dashboard TO ff_user;
\q
```

### **–®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**
```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –Ω–æ–≤–æ–π –±–∞–∑–µ
psql -U ff_user -d ff_dashboard

-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü (—Å–º. –≤—ã—à–µ)
```

### **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞**
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ pg_hba.conf
sudo nano /etc/postgresql/*/main/pg_hba.conf

# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
host    ff_dashboard    ff_user    0.0.0.0/0    md5

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL
sudo systemctl restart postgresql
```

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
```javascript
// –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö - –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ!
const connectionString = 'postgresql://user:password@vm-ip:5432/ff_dashboard';
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: REST API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π API —Å–µ—Ä–≤–µ—Ä –Ω–∞ VM:

```javascript
// server.js
const express = require('express');
const { Pool } = require('pg');
const cors = require('cors');

const app = express();
app.use(cors());
app.use(express.json());

const pool = new Pool({
    user: 'ff_user',
    host: 'localhost',
    database: 'ff_dashboard',
    password: 'secure_password',
    port: 5432,
});

// API endpoints
app.get('/api/leads', async (req, res) => {
    try {
        const result = await pool.query('SELECT * FROM leads ORDER BY created_at DESC');
        res.json(result.rows);
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
});

app.post('/api/leads', async (req, res) => {
    try {
        const { client_name, phone, email, status, source, comments } = req.body;
        const result = await pool.query(
            'INSERT INTO leads (client_name, phone, email, status, source, comments) VALUES ($1, $2, $3, $4, $5, $6) RETURNING *',
            [client_name, phone, email, status, source, comments]
        );
        res.json(result.rows[0]);
    } catch (err) {
        res.status(500).json({ error: err.message });
    }
});

app.listen(3000, () => {
    console.log('API Server running on port 3000');
});
```

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

### **–ó–∞–º–µ–Ω–∞ LocalStorage –Ω–∞ API –≤—ã–∑–æ–≤—ã**

**–ë—ã–ª–æ:**
```javascript
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏–¥–æ–≤
localStorage.setItem('ff-leads', JSON.stringify(leads));

// –ó–∞–≥—Ä—É–∑–∫–∞ –ª–∏–¥–æ–≤
const savedLeads = localStorage.getItem('ff-leads');
if (savedLeads) {
    leads = JSON.parse(savedLeads);
}
```

**–°—Ç–∞–ª–æ:**
```javascript
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏–¥–æ–≤
async function saveLead(lead) {
    try {
        const response = await fetch('http://your-vm-ip:3000/api/leads', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(lead)
        });
        return await response.json();
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–∏–¥–∞:', error);
    }
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –ª–∏–¥–æ–≤
async function loadLeads() {
    try {
        const response = await fetch('http://your-vm-ip:3000/api/leads');
        leads = await response.json();
        updateLeadsTable();
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ª–∏–¥–æ–≤:', error);
    }
}
```

## üöÄ –ü–ª–∞–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### **–≠—Ç–∞–ø 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL (30 –º–∏–Ω—É—Ç)**
1. **–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** –Ω–∞ VM
2. **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã** –ø–æ —Å—Ö–µ–º–µ
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø** –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**

### **–≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ API —Å–µ—Ä–≤–µ—Ä–∞ (1 —á–∞—Å)**
1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js** –Ω–∞ VM
2. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π API —Å–µ—Ä–≤–µ—Ä**
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS** –¥–ª—è GitHub Pages
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å endpoints**

### **–≠—Ç–∞–ø 3: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (2 —á–∞—Å–∞)**
1. **–ó–∞–º–µ–Ω–∏—Ç—å LocalStorage** –Ω–∞ API –≤—ã–∑–æ–≤—ã
2. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏**
4. **–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ GitHub Pages**

### **–≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (30 –º–∏–Ω—É—Ç)**
1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS** –¥–ª—è API
2. **–î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∞–π—Ä–≤–æ–ª**
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

## üí∞ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç

### **GitHub Pages + Google Sheets**
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ** (–¥–æ –ª–∏–º–∏—Ç–æ–≤)
- ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** API (100 –∑–∞–ø—Ä–æ—Å–æ–≤/100 —Å–µ–∫)

### **GitHub Pages + PostgreSQL VM**
- üí∞ **VM**: ~2000‚ÇΩ/–º–µ—Å—è—Ü (2 vCPU, 4GB RAM)
- üí∞ **–î–∏—Å–∫**: ~500‚ÇΩ/–º–µ—Å—è—Ü (50GB SSD)
- üí∞ **–¢—Ä–∞—Ñ–∏–∫**: ~100‚ÇΩ/–º–µ—Å—è—Ü
- üí∞ **–ò—Ç–æ–≥–æ**: ~2600‚ÇΩ/–º–µ—Å—è—Ü
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è!** –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–∞–µ—Ç:

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** - GitHub Pages  
‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ë–î** - PostgreSQL  
‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã** - —Ç–æ–ª—å–∫–æ –ë–î –Ω–∞ VM  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å  

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL** –Ω–∞ VM
2. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π API —Å–µ—Ä–≤–µ—Ä**
3. **–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** –¥–ª—è API
4. **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ GitHub Pages**

–•–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã —è —Å–æ–∑–¥–∞–ª –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥ –¥–ª—è API —Å–µ—Ä–≤–µ—Ä–∞? üöÄ
